schema: '2.0'
stages:
  pipeline:
    cmd: python3 src/Regression_script.py
    deps:
    - path: data
      md5: 059a3b1ac7e4140fe7e912479b35f96d.dir
      size: 306546
      nfiles: 1
    - path: src
      md5: e58b97f88491b4b0ec5c5ba658ec5ee0.dir
      size: 8904
      nfiles: 2
    params:
      params.yaml:
        n_neighbors: 100
        n_splits: 5
        random_state: 4
        test_size: 0.1
    outs:
    - path: metrics.json
      md5: 42eda49c7162a18d7425d1e8323d8601
      size: 29
    - path: model_name.pickle
      md5: 863ec5066ab0a976e349e8493b5bd4b4
      size: 1815
    - path: plots_file.json
      md5: da82aab180cf1bd6ec70a4d263f177d6
      size: 1445
  preparation:
    cmd: python3 src/preparation.py
    deps:
    - path: data/dataset_57_hypothyroid.csv
      md5: 86a5c085a183d30d7b147af706b7f39c
      size: 306546
    - path: src/preparation.py
      md5: 36e7b23ee485440339d778df66186f56
      size: 3556
    params:
      params.yaml:
        n_neighbors: 5
        n_splits: 1
        random_state: 42
        test_size: 0.3
    outs:
    - path: data/test_X_transform.csv
      md5: 618d609d61c7c80406fa8d8e67128bc8
      size: 566061
    - path: data/test_y_transform.csv
      md5: ad9fe0a4a51bc6970c1bc068c896531b
      size: 6443
    - path: data/train_X_transform.csv
      md5: 49c4c541fae2b114b6c1801e45e9dc47
      size: 1320911
    - path: data/train_y_transform.csv
      md5: 65226d16e4d21cb34d1d5dc7819c79c2
      size: 16488
  evaluation:
    cmd: python3 src/train_model.py
    deps:
    - path: data/test_X_transform.csv
      md5: 217082833e06ce47fc5a5cc554becdb8
      size: 197211
    - path: data/test_y_transform.csv
      md5: d57e1dbe9700c24af36a5435903038e9
      size: 2057
    - path: data/train_X_transform.csv
      md5: 9fd83df3752d9c2344148f4e7608d60b
      size: 1770232
    - path: data/train_y_transform.csv
      md5: 6e68614401eb2b3c5d7e05c74004e9f4
      size: 21514
    - path: src/train_model.py
      md5: cd70ae3004253877b35eb0aa3badbeaf
      size: 2793
    params:
      params.yaml:
        n_splits: 5
        random_state: 4
        test_size: 0.1
    outs:
    - path: best_model.pickle
      md5: 2533e76ee5b50cf873a7f60a6330f4e3
      size: 364823
    - path: metrics.json
      md5: dec08e258bb0d2351c25fd9a5e5071b1
      size: 30
  graph:
    cmd: python3 src/feature_importance.py
    deps:
    - path: data/train_X_transform.csv
      md5: 9fd83df3752d9c2344148f4e7608d60b
      size: 1770232
    - path: src/feature_importance.py
      md5: 470000ff17b339b84a4e3eb0b7cb9265
      size: 1754
    outs:
    - path: plots_file.json
      md5: d9905836f5a9c1a19bb97c6418cc9e80
      size: 1559
  evaluate:
    cmd: python3 src/train_model.py
    deps:
    - path: data/test_X_transform.csv
      md5: 618d609d61c7c80406fa8d8e67128bc8
      size: 566061
    - path: data/test_y_transform.csv
      md5: ad9fe0a4a51bc6970c1bc068c896531b
      size: 6443
    - path: data/train_X_transform.csv
      md5: 49c4c541fae2b114b6c1801e45e9dc47
      size: 1320911
    - path: data/train_y_transform.csv
      md5: 65226d16e4d21cb34d1d5dc7819c79c2
      size: 16488
    - path: src/train_model.py
      md5: cc808daf6425900a67b9609d2a3dc520
      size: 1938
    outs:
    - path: best_model.pickle
      md5: 1b561c6ac7a4b854532952842dde80d0
      size: 352786
    - path: metrics.json
      md5: 3d31c54a36e895a89d25bea7a7d7ef15
      size: 73
  feature_importance:
    cmd: python3 src/feature_importance.py
    deps:
    - path: best_model.pickle
      md5: 1b561c6ac7a4b854532952842dde80d0
      size: 352786
    - path: src/feature_importance.py
      md5: 0218477bf9991b6efa420be6a8b416d7
      size: 1484
    outs:
    - path: FI_plot_compensated_hypothyroid.png
      md5: 2eecced8291486f17aa81104e51506cc
      size: 125476
    - path: FI_plot_negative.png
      md5: 158534d8b6de960968bc062243e10256
      size: 116296
    - path: FI_plot_prim_sec_hypothyroid.png
      md5: dc2433d15862b93faa2c2e4116e3da3c
      size: 126762
    - path: plots_file_compensated_hypothyroid.json
      md5: ca320b5a86037574832b222bd77a0b14
      size: 1436
    - path: plots_file_negative.json
      md5: 64cfc529083aebdb579cf08903ffa603
      size: 1429
    - path: plots_file_prim_sec_hypothyroid.json
      md5: c9ac31ccfa0473ff3b7ee0cfa41c76f1
      size: 1428
