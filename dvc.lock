schema: '2.0'
stages:
  pipeline:
    cmd: python3 src/Regression_script.py
    deps:
    - path: data
      md5: 059a3b1ac7e4140fe7e912479b35f96d.dir
      size: 306546
      nfiles: 1
    - path: src
      md5: e58b97f88491b4b0ec5c5ba658ec5ee0.dir
      size: 8904
      nfiles: 2
    params:
      params.yaml:
        n_neighbors: 100
        n_splits: 5
        random_state: 4
        test_size: 0.1
    outs:
    - path: metrics.json
      md5: 42eda49c7162a18d7425d1e8323d8601
      size: 29
    - path: model_name.pickle
      md5: 863ec5066ab0a976e349e8493b5bd4b4
      size: 1815
    - path: plots_file.json
      md5: da82aab180cf1bd6ec70a4d263f177d6
      size: 1445
  preparation:
    cmd: python3 src/Preparation.py
    deps:
    - path: data/dataset_57_hypothyroid.csv
      md5: 86a5c085a183d30d7b147af706b7f39c
      size: 306546
    - path: src/Preparation.py
      md5: e31182636de531f93c3bc4dc082482cc
      size: 3748
    params:
      params.yaml:
        n_neighbors: 5
        n_splits: 1
        random_state: 42
        test_size: 0.3
    outs:
    - path: data/test_X_transform.csv
      md5: 618d609d61c7c80406fa8d8e67128bc8
      size: 566061
    - path: data/test_y_transform.csv
      md5: ad9fe0a4a51bc6970c1bc068c896531b
      size: 6443
    - path: data/train_X_transform.csv
      md5: 8707d59f410de1c8b4e257a0b96a794f
      size: 3641419
    - path: data/train_y_transform.csv
      md5: 6d9c5d089682e58a107ba5c69157afda
      size: 47386
  evaluation:
    cmd: python3 src/train_model.py
    deps:
    - path: data/test_X_transform.csv
      md5: 217082833e06ce47fc5a5cc554becdb8
      size: 197211
    - path: data/test_y_transform.csv
      md5: d57e1dbe9700c24af36a5435903038e9
      size: 2057
    - path: data/train_X_transform.csv
      md5: 9fd83df3752d9c2344148f4e7608d60b
      size: 1770232
    - path: data/train_y_transform.csv
      md5: 6e68614401eb2b3c5d7e05c74004e9f4
      size: 21514
    - path: src/train_model.py
      md5: cd70ae3004253877b35eb0aa3badbeaf
      size: 2793
    params:
      params.yaml:
        n_splits: 5
        random_state: 4
        test_size: 0.1
    outs:
    - path: best_model.pickle
      md5: 2533e76ee5b50cf873a7f60a6330f4e3
      size: 364823
    - path: metrics.json
      md5: dec08e258bb0d2351c25fd9a5e5071b1
      size: 30
  graph:
    cmd: python3 src/feature_importance.py
    deps:
    - path: data/train_X_transform.csv
      md5: 9fd83df3752d9c2344148f4e7608d60b
      size: 1770232
    - path: src/feature_importance.py
      md5: 470000ff17b339b84a4e3eb0b7cb9265
      size: 1754
    outs:
    - path: plots_file.json
      md5: d9905836f5a9c1a19bb97c6418cc9e80
      size: 1559
  evaluate:
    cmd: python3 src/train_model.py
    deps:
    - path: data/test_X_transform.csv
      md5: 618d609d61c7c80406fa8d8e67128bc8
      size: 566061
    - path: data/test_y_transform.csv
      md5: ad9fe0a4a51bc6970c1bc068c896531b
      size: 6443
    - path: data/train_X_transform.csv
      md5: 8707d59f410de1c8b4e257a0b96a794f
      size: 3641419
    - path: data/train_y_transform.csv
      md5: 6d9c5d089682e58a107ba5c69157afda
      size: 47386
    - path: src/train_model.py
      md5: 780dd4fe4a0fd448c44939c652c4b90a
      size: 2707
    outs:
    - path: best_model.pickle
      md5: 8055b36186d9fed9d7d2534576ae5f32
      size: 364823
    - path: metrics.json
      md5: fe17b4b489a7d80e17de5a14ba65eeed
      size: 75
  feature_importance:
    cmd: python3 src/feature_importance.py
    deps:
    - path: best_model.pickle
      md5: 8055b36186d9fed9d7d2534576ae5f32
      size: 364823
    - path: src/feature_importance.py
      md5: e2939d93db711ea95b8e3aaf10fd7aae
      size: 1472
    outs:
    - path: FI_plot_compensated_hypothyroid.png
      md5: 58ac305c633d0ce1cea71a8970e55a22
      size: 128811
    - path: FI_plot_negative.png
      md5: 611a090cbbf60030488649a6970638f5
      size: 122430
    - path: FI_plot_prim_sec_hypothyroid.png
      md5: 0009a87b38a45945953f3af515651ea6
      size: 127512
    - path: plots_file_compensated_hypothyroid.json
      md5: 8677beae7435dd2012778911836fc288
      size: 1530
    - path: plots_file_negative.json
      md5: 9770b1d279f61709c5dbd3c493f062b1
      size: 1536
    - path: plots_file_prim_sec_hypothyroid.json
      md5: b5760cc6fb6ad038846fe50426b99c2f
      size: 1530
